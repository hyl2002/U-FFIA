name: hyl
channels:
  - pytorch
  - conda-forge
  - defaults

dependencies:
  - python=3.10

  # ==== Core scientific ====
  - numpy=1.23.5
  - scipy=1.9.3
  - pandas=1.5.3
  - scikit-learn=1.2
  - pillow
  - matplotlib
  - numba=0.56.4
  - llvmlite=0.39.1

  # ==== Audio ====
  - librosa=0.9.2        # ← 与 torchlibrosa 0.0.9 兼容
  - pysoundfile          # soundfile 的 conda 名字
  - resampy=0.2.2
  - ffmpeg

  # ==== Image ====
  - scikit-image
  - imageio
  - opencv=4.6.0         # 最稳定，不会和 ffmpeg 冲突

  # ==== Misc ====
  - pyyaml
  - tqdm
  - requests
  - h5py
  - openpyxl
  - pip

  # ================= PIP 部分 ==================
  - pip:
      # ==== 核心（必须手动安装） ====
      - torch==2.9.1+cu130
      - torchvision==0.24.1+cu130
      - torchaudio==2.9.1+cu130
      - --index-url https://download.pytorch.org/whl/cu130

      # ==== U-FFIA 原程序所需 ====
      - torchlibrosa==0.0.9
      - kmeans-pytorch==0.3
      - timm==0.6.11
      - decord==0.5.0
      - opencv-python==4.5.5.64
      - ptflops==0.6.9

      # ==== 你旧环境中的其他包（全部兼容） ====
      - absl-py==1.3.0
      - antlr4-python3-runtime==4.9.3
      - appdirs==1.4.4
      - arrow==1.2.3
      - attrs==21.4.0
      - audioread==2.1.9
      - automat==22.10.0
      - cachetools==5.2.0
      - certifi==2021.10.8
      - cffi==1.15.0
      - chardet==5.0.0
      - charset-normalizer==2.0.10
      - click==8.1.3
      - cloudpickle==2.2.0
      - constantly==15.1.0
      - cryptography==38.0.4
      - cssselect==1.2.0
      - cycler==0.11.0
      - dtk==0.2
      - et-xmlfile==1.1.0
      - filelock==3.8.0
      - fonttools==4.30.0
      - future==0.18.2
      - google-auth==2.15.0
      - google-auth-oauthlib==0.4.6
      - grpcio==1.51.1
      - huggingface-hub==0.10.1
      - hyperlink==21.0.0
      - idna==3.3
      - importlib-metadata==4.10.0
      - importlib-resources==5.4.0
      - incremental==22.10.0
      - ipdb==0.13.9
      - itemadapter==0.7.0
      - itemloaders==1.0.6
      - jams==0.3.4
      - jmespath==1.0.1
      - joblib==1.1.0
      - jsonschema==4.4.0
      - kiwisolver==1.3.2
      - loguru==0.6.0
      - lxml==4.9.1
      - markdown==3.4.1
      - markupsafe==2.1.1
      - mir-eval==0.6
      - networkx==2.6.3
      - nltk==3.7
      - oauthlib==3.2.2
      - omegaconf==2.3.0
      - packaging==21.3
      - parsel==1.7.0
      - pooch==1.5.2
      - protego==0.2.1
      - protobuf==3.20.3
      - pyasn1==0.4.8
      - pyasn1-modules==0.2.8
      - pycparser==2.21
      - pydispatcher==2.0.6
      - pyopenssl==22.1.0
      - pyparsing==3.0.6
      - pyrsistent==0.18.0
      - pytz==2021.3
      - pywavelets==1.3.0
      - queuelib==1.6.2
      - regex==2022.10.31
      - requests-file==1.5.1
      - requests-oauthlib==1.3.1
      - rsa==4.9
      - scrapy==2.7.1
      - service-identity==21.1.0
      - soundata==0.1.1
      - submitit==1.4.5
      - summary==0.2.0
      - tensorboard==2.11.0
      - tensorboard-data-server==0.6.1
      - tensorboard-plugin-wit==1.8.1
      - threadpoolctl==3.0.0
      - tldextract==3.4.0
      - toml==0.10.2
      - torchinfo==1.7.1
      - torchsummary==1.5.1
      - twisted==22.10.0
      - urllib3==1.26.8
      - w3lib==2.1.0
      - werkzeug==2.2.2
      - wget==3.2
      - xlwt==1.3.0
      - zipp==3.7.0

